@model DriveIT.Web.Models.CarCommentViewModel

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<link href="../../Content/cosmo-boostrap.min.css" rel="stylesheet" />
<link href="@Url.Content("~/Content/Site.css")" rel="stylesheet" type="text/css" />

<script type="text/javascript">
    $(document).ready(function() {
        $('.carousel').carousel({
            interval: 5000
        });
    });
</script>

@{
    ViewBag.Title = "Car Details";
}

<h1>Car Details</h1>
<p>In this window, car information of the choosen car, from the previous page, will be shown.</p>

@if (@Model.Car.Sold)
{
    <p></p>
}
else if (@User.Identity.IsAuthenticated)
{
    @*Button for CarRequests.*@
    using (Html.BeginForm("Create", "ContactRequest", new { id = Model.Car.Id }))
    {
        <input type="submit" value="Request to get contacted" class="btn btn-success" />
    }  
}

else
{
    <p>To request to get contacted regarding this car you need to @Html.ActionLink("sign in", "LogIn", "Account").</p>
}



<div>
    <hr />

    <h2>The car is: @if (Model.Car.Sold)
                    {
                        <strong style="color: red">SOLD</strong>

                    }
                    else
                    {
                        <strong style="color: green">FOR SALE</strong>
                    }
    </h2>

    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Car.Model):
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Car.Model)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Car.Make):
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Car.Make)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Car.Year):
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Car.Year)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Car.Price):
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Car.Price)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Car.Created):
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Car.Created)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Car.Mileage):
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Car.Mileage)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Car.Color):
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Car.Color)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Car.DistanceDriven):
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Car.DistanceDriven)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Car.Fuel):
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Car.Fuel)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Car.Drive):
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Car.Drive)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Car.Transmission):
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Car.Transmission)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Car.TopSpeed):
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Car.TopSpeed)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Car.NoughtTo100):
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Car.NoughtTo100)
        </dd>

    </dl>
    
    @if (Model.Car.ImagePaths.Count > 0)
    {
        <div id="myCarousel" class="carousel" style="position:absolute;width:900px;height:400px;top:200px;right:50px">
            <h3>
                Images of the car
            </h3>
            <div class="carousel-inner">            
                @foreach (var image in Model.Car.ImagePaths)
                {
                    <div class="item">
                        <img src="@image" height="300" width="300" />
                    </div>
                }
            </div>
            
            <div id="myCarouselControll" class="carousel" style="width:270px;height:200px">
                <a class="left carousel-control" href="#myCarousel" data-slide="prev"><span class="glyphicon glyphicon-chevron-left" style="color:black"></span></a>
                <a class="right carousel-control" href="#myCarousel" data-slide="next"><span class="glyphicon glyphicon-chevron-right" style="color:black"></span></a>
            </div>
        </div>
    }
    else
    {
        <div id="nothingFound" style="position:absolute;top:165px;right:800px">
            <h3>
                Images of the car
            </h3>

            <p>
                No images to show.
            </p>
        </div>
    }

</div>
<br>
@{
    Html.RenderPartial("~/Views/Comment/Index.cshtml", Model);
}
